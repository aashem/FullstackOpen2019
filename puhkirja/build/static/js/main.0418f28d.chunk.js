(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(40)},19:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),u=n.n(a),o=n(12),r=n.n(o),i=(n(19),n(2)),c=n(3),l=function(e){var t=e.submit,n=e.name,a=e.phone,o=e.nameChange,r=e.phoneChange;return u.a.createElement("form",{onSubmit:t},u.a.createElement("div",null,"nimi:",u.a.createElement("input",{value:n,onChange:o})),u.a.createElement("div",null,"puh:",u.a.createElement("input",{value:a,onChange:r})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"}," Lis\xe4\xe4 ")))},s=function(e){var t=e.submit,n=e.filter,a=e.filterChange;return u.a.createElement("form",{onSubmit:t},u.a.createElement("div",null,"search:",u.a.createElement("input",{value:n,onChange:a})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"rajaa")))},m=function(e){var t=e.persons,n=e.buttonHandler;return t.map(function(e){return u.a.createElement("li",{key:e.id},e.name," ",e.number," ",u.a.createElement("button",{onClick:n,value:e.id},"Poista")," ")})},f=function(e){var t=e.persons,n=e.filter,a=e.buttonHandler,o=t;return n&&(o=t.filter(function(e){return e.name.toLowerCase().includes(n.toLowerCase())}),console.log(o,n)),u.a.createElement(m,{persons:o,buttonHandler:a})},p=n(4),d=n.n(p),b="/api/persons",g=function(){return d.a.get(b).then(function(e){return e.data})},h=function(e){return d.a.post(b,e).then(function(e){return e.data})},v=function(e,t){return d.a.put("".concat(b,"/").concat(e),t).then(function(e){return e.data})},E=function(e){return d.a.delete("".concat(b,"/").concat(e)).then(function(e){return e.data})},j=(n(39),function(e){var t=e.notif,n=t.message,a=t.type;if(null===n)return null;var o={background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},r=null;return r="note"===a?Object(i.a)({},o,{color:"green"}):Object(i.a)({},o,{color:"red"}),u.a.createElement("div",{style:r},n)}),y=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(""),m=Object(c.a)(r,2),p=m[0],d=m[1],b=Object(a.useState)(""),y=Object(c.a)(b,2),O=y[0],w=y[1],k=Object(a.useState)(""),C=Object(c.a)(k,2),S=C[0],x=C[1],T=Object(a.useState)(""),H=Object(c.a)(T,2),L=H[0],B=H[1],D=Object(a.useState)({message:null,type:null}),I=Object(c.a)(D,2),J=I[0],P=I[1];Object(a.useEffect)(function(){g().then(function(e){o(e)})},[]);return u.a.createElement("div",null,u.a.createElement("h2",null,"Puhelinluettelo"),u.a.createElement(j,{notif:J}),u.a.createElement(s,{submit:function(e){e.preventDefault(),x(L),B("")},filter:L,filterChange:function(e){B(e.target.value)}}),u.a.createElement("p",null,"----------------------------"),u.a.createElement("h2",null,"Lis\xe4\xe4 uusi"),u.a.createElement(l,{submit:function(e){if(e.preventDefault(),n.findIndex(function(e){return e.name===p})>-1){if(window.confirm("nimell\xe4  ".concat(p," jo k\xe4yt\xf6ss\xe4 numero, haluatko korvata sen?"))){var t=n.find(function(e){return e.name===p}).id,a={name:p,number:O};v(t,a).catch(function(e){P({message:"p\xe4ivitys ep\xe4onnistui, p\xe4ivit\xe4 sivu uudelleen",type:"error"}),setTimeout(function(){return P(Object(i.a)({},J,{message:null}))},5e3)}),o(n.concat(a)),g().then(function(e){o(e)}),P({message:"p\xe4ivitys onnistui",type:"note"}),setTimeout(function(){P(Object(i.a)({},J,{message:null}))},5e3)}}else{var u={name:p,number:O},r={message:"Henkil\xf6 ".concat(u.name," lis\xe4tty"),type:"note"};P(r),setTimeout(function(){return P(Object(i.a)({},J,{message:null}))},5e3),h(u).then(g().then(function(e){o(e)})).catch(function(e){P({message:"lis\xe4\xe4minen ep\xe4onnistui",type:"error"}),setTimeout(function(){P(Object(i.a)({},J,{message:null}))},5e3)}),d(""),w("")}},name:p,nameChange:function(e){d(e.target.value)},phone:O,phoneChange:function(e){w(e.target.value)}}),u.a.createElement("h2",null,"Numerot"),u.a.createElement(f,{persons:n,filter:S,buttonHandler:function(e){var t=e.target.value,a=n.find(function(e){return e.id==t});if(console.log(a),window.confirm("poistetaanko")){E(t).catch(function(e){P({message:"poistaminen ep\xe4onnistui, p\xe4ivit\xe4 sivu tai yrit\xe4 uudestaan",type:"error"}),setTimeout(function(){P(Object(i.a)({},J,{message:null}))},5e3)});var u=n.filter(function(e){return e.id!=t});o(u),P({message:"henkil\xf6  poistettu",type:"note"}),setTimeout(function(){P(Object(i.a)({},J,{message:null}))},5e3)}}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(u.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,1,2]]]);
//# sourceMappingURL=main.0418f28d.chunk.js.map